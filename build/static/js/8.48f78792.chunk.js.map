{"version":3,"sources":["views/buyMovie/index.jsx","request/axios.js","request/api.js","views/buyMovie/index.module.less"],"names":["BuyMovie","_this","Object","D_wangye_rect_day10_miao_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","D_wangye_rect_day10_miao_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","D_wangye_rect_day10_miao_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","switchSelectIndex","e","index","currentTarget","dataset","id","split","setState","selectedMovieSeq","selectDateIndex","dateIndex","state","cinemaData","movies","dealList","obj","createRef","getCinemaDetail","initSwiper","Swiper","slideToClickedSlide","slidesPerView","spaceBetween","centeredSlides","slideActiveClass","autoplayDisableOnInteraction","slideTo","_this2","movieID","parseInt","props","match","params","movieId","cinemaId","history","location","cinemaID","getSomeCinemaDetail","then","res","showData","DateString","date","Date","h","getHours","toString","padStart","f","getMinutes","concat","str","ds","slice","ti","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","className","Buy","neal_params","_this$state$cinemaDat","lat","lng","nm","window","href","wh","undefined","replace","_this3","_this$state","shopDateList","shows","console","log","navbar","nav_wrap_left","onClick","goBack","nav_right","position","shop","nnm","addr","clickPosi","toNavAddress","src","movie_detail","movie_filter","map","item","key","img","picFix","alt","data-id","poster_bg","post_bg_filter","movie_title","movie_cen","sc","des","author","desc","playDate","scroll","movie","data-index","selectDate","dateShow","shopBody","plist","length","none","shopDetail","seqNo","rime_block","begin","filteDate","end","tm","info_block","lan","tp","hall","th","price","vipPrice","btn_block","h_list","meal","meal_title","meal_list","meal_img","meal_info","filter","title","shop_num","curNumberDesc","orice_shop","Component","instance","axios","create","timeout","__proto__","interceptors","request","use","config","error","Promise","reject","response","data","url","method","arguments","me","toUpperCase","httpDefault","resolve","catch","__webpack_require__","d","__webpack_exports__","api_getCityList","api_getLocation","api_getHotList","api_getCinemaInfo","api_search","api_getMovieDetail","api_getCinemasMovieInfo","api_getCinemaList","api_getSomeCinemaDetail","getCityList","getLocation","getHotList","cityId","getCinemaInfo","cityid","search","kW","getMovieDetail","getCinemasMovieInfo","arr","all","spread","acct","perms","requestAll","getCinemaList","module","exports","root","hinder","ul"],"mappings":"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","file":"static/js/8.48f78792.chunk.js","sourcesContent":["import React, { Component, createRef } from \"react\";\r\nimport Swiper from \"swiper\";\r\nimport \"../../../node_modules/swiper/dist/css/swiper.min.css\";\r\nimport Buy from \"./index.module.less\";\r\nimport \"./index.css\";\r\n// import \"./index2.css\"\r\n\r\nimport { getSomeCinemaDetail } from \"@/request/api.js\";\r\n\r\nlet swiper;\r\nexport default class BuyMovie extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      cinemaData: {},\r\n      movies: [],\r\n      //电影默认展示那部电影的index\r\n      selectedMovieSeq: 0,\r\n      dealList: [],\r\n      //默认展示电影播放的时间的index\r\n      dateIndex: 0\r\n    };\r\n    this.obj = createRef();\r\n  }\r\n  componentDidMount() {\r\n    this.getCinemaDetail();\r\n  }\r\n  componentDidUpdate() {\r\n    this.initSwiper();\r\n  }\r\n  initSwiper() {\r\n    swiper = new Swiper(\".swiper-container\", {\r\n      slideToClickedSlide: true, //点击居中\r\n      slidesPerView: \"auto\", //分组显示\r\n      spaceBetween: 30, //页面间隙\r\n      centeredSlides: true, //页面居中\r\n      slideActiveClass: \"Sactive\",\r\n\r\n      autoplayDisableOnInteraction: false // 用户拖拽不滚动问题\r\n    });\r\n    swiper.slideTo(this.state.selectedMovieSeq, 1000, false);\r\n  }\r\n\r\n  //获取数据\r\n  getCinemaDetail() {\r\n    let movieID = parseInt(this.props.match.params.movieId);\r\n\r\n    let cinemaId = parseInt(this.props.history.location.state.cinemaID);\r\n\r\n    getSomeCinemaDetail(cinemaId, movieID).then(res => {\r\n      this.setState({\r\n        cinemaData: res.cinemaData,\r\n        movies: res.showData.movies,\r\n        selectedMovieSeq: res.showData.selectedMovieSeq,\r\n        dealList: res.dealList.dealList\r\n      });\r\n    });\r\n  }\r\n  //处理散场和开场电影时间\r\n  filteDate(DateString) {\r\n    let date = new Date(parseInt(DateString));\r\n    let h = date\r\n      .getHours()\r\n      .toString()\r\n      .padStart(2, \"0\");\r\n\r\n    let f = date\r\n      .getMinutes()\r\n      .toString()\r\n      .padStart(2, \"0\");\r\n    return `${h}:${f}`;\r\n  }\r\n  // 切换展示那部电影信息\r\n  switchSelectIndex = e => {\r\n    /* let index = swiper.activeIndex;\r\n this.setState({\r\n      selectedMovieSeq: index\r\n    });    */\r\n    let index = e.currentTarget.dataset.id.split(\"&\")[1] - 0;\r\n    this.setState({\r\n      selectedMovieSeq: index\r\n    });\r\n  };\r\n  //点击切换播放时间index\r\n  selectDateIndex = e => {\r\n    let index = e.currentTarget.dataset.index - 0;\r\n    this.setState({\r\n      dateIndex: index\r\n    });\r\n  };\r\n  //处理单人双人数据\r\n  filter(str) {\r\n    let ds = str.slice(0, 2);\r\n    let ti = ds === \"单人\" || ds === \"双人\" ? ds : \"单人\";\r\n    return (\r\n      <div className={Buy.neal_params}>\r\n        <span>{ti}</span>\r\n        {str}\r\n      </div>\r\n    );\r\n  }\r\n  //去影院位置\r\n  toNavAddress() {\r\n    let { lat, lng, nm } = this.state.cinemaData;\r\n    window.location.href = `https://uri.amap.com/marker?position=${lng},${lat}&name=${nm}&callnative=1`;\r\n  }\r\n  picFix(wh) {\r\n    if (wh !== undefined) {\r\n      return wh.replace(\"w.h\", \"65.94\");\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let {\r\n      cinemaData,\r\n      movies,\r\n      selectedMovieSeq,\r\n      dealList,\r\n      dateIndex\r\n    } = this.state;\r\n\r\n    let shopDateList =\r\n      movies[selectedMovieSeq] && movies[selectedMovieSeq].shows[dateIndex];\r\n    console.log(shopDateList);\r\n    return (\r\n      <div>\r\n        <div className={Buy.navbar}>\r\n          <div className={Buy.nav_wrap_left}>\r\n            <i\r\n              className=\"iconfont icon-right\"\r\n              onClick={() => {\r\n                this.props.history.goBack();\r\n              }}\r\n            />\r\n          </div>\r\n          <div className={Buy.nav_right}>{cinemaData.nm}</div>\r\n        </div>\r\n        <div className={Buy.position}>\r\n          <div className={Buy.shop}>\r\n            <h2 className={Buy.nnm}>{cinemaData.nm}</h2>\r\n            <p>{cinemaData.addr}</p>\r\n          </div>\r\n          <div className={Buy.clickPosi}>\r\n            <img\r\n              onClick={() => {\r\n                this.toNavAddress();\r\n              }}\r\n              src=\"data:image/png;base64,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\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <div className={Buy.movie_detail}>\r\n          <div className={Buy.movie_filter}>\r\n            <div className=\"swiper-container\">\r\n              <div className=\"swiper-wrapper\">\r\n                {movies.map((item, index) => {\r\n                  return (\r\n                    <div className=\"swiper-slide\" key={item.img}>\r\n                      <img\r\n                        src={this.picFix(item.img)}\r\n                        alt=\"\"\r\n                        data-id={item.id + \"&\" + index}\r\n                        onClick={e => {\r\n                          this.switchSelectIndex(e);\r\n                        }}\r\n                      />\r\n                    </div>\r\n                  );\r\n                })}\r\n              </div>\r\n            </div>\r\n            <div\r\n              className={Buy.poster_bg}\r\n              // style={{\r\n              //   backgroundImage:\r\n              //     \"url(http://p0.meituan.net/65.94/movie/005955214d5b3e50c910d7a511b0cb571445301.jpg)\"\r\n              // }}\r\n            >\r\n              <img\r\n                src={\r\n                  movies[selectedMovieSeq] &&\r\n                  this.picFix(movies[selectedMovieSeq].img)\r\n                }\r\n                alt=\"\"\r\n                className={Buy.poster_bg}\r\n              />\r\n            </div>\r\n            <div className={Buy.post_bg_filter} />\r\n          </div>\r\n        </div>\r\n        <div className={Buy.movie_title}>\r\n          <div className={Buy.movie_cen}>\r\n            <h2>{movies[selectedMovieSeq] && movies[selectedMovieSeq].nm}</h2>\r\n            <p>\r\n              {movies[selectedMovieSeq] &&\r\n                (movies[selectedMovieSeq].sc === \"0.0\"\r\n                  ? \"未评\"\r\n                  : movies[selectedMovieSeq].sc)}\r\n            </p>\r\n            <span>分</span>\r\n          </div>\r\n          <div className={Buy.des}>\r\n            <ul className={Buy.author}>\r\n              <li>\r\n                {movies[selectedMovieSeq] && movies[selectedMovieSeq].desc}\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n        <div className={Buy.playDate}>\r\n          <ul className={Buy.scroll}>\r\n            {movies[selectedMovieSeq] &&\r\n              movies[selectedMovieSeq].shows.map((movie, index) => {\r\n                return (\r\n                  <li\r\n                    onClick={e => {\r\n                      this.selectDateIndex(e);\r\n                    }}\r\n                    data-index={index}\r\n                    className={index === dateIndex ? Buy.selectDate : \"\"}\r\n                    key={movie.dateShow}\r\n                  >\r\n                    {movie.dateShow}\r\n                  </li>\r\n                );\r\n              })}\r\n          </ul>\r\n        </div>\r\n        <div className={Buy.shopBody}>\r\n          <ul\r\n            className={\r\n              movies[selectedMovieSeq] && shopDateList.plist.length\r\n                ? \"\"\r\n                : Buy.none\r\n            }\r\n          >\r\n            {movies[selectedMovieSeq] &&\r\n              shopDateList.plist.map(item => {\r\n                return (\r\n                  <li className={Buy.shopDetail} key={item.seqNo}>\r\n                    <div className={Buy.rime_block}>\r\n                      <p className={Buy.begin}>{this.filteDate(item.seqNo)}</p>\r\n                      <span className={Buy.end}> {item.tm}散场</span>\r\n                    </div>\r\n                    <div className={Buy.info_block}>\r\n                      <div className={Buy.lan}>中文{item.tp}</div>\r\n                      <div className={Buy.hall}>{item.th}</div>\r\n                    </div>\r\n                    <div className={Buy.price}>\r\n                      <p>¥{item.vipPrice}</p>\r\n                    </div>\r\n                    <div className={Buy.btn_block}>购票</div>\r\n                  </li>\r\n                );\r\n              })}\r\n          </ul>\r\n          <div\r\n            className={\r\n              movies[selectedMovieSeq] && shopDateList.length\r\n                ? Buy.h_list\r\n                : Buy.none\r\n            }\r\n          >\r\n            今日场次播放完\r\n          </div>\r\n        </div>\r\n        <div className={Buy.meal}>\r\n          <div className={Buy.meal_title}>影院超值套餐</div>\r\n          <div className={Buy.meal_list}>\r\n            <ul>\r\n              {dealList.length &&\r\n                dealList.map((item, index) => {\r\n                  return (\r\n                    <li key={index}>\r\n                      <div className={Buy.meal_img}>\r\n                        <img\r\n                          src=\"http://p0.meituan.net/440.0/movie/afb09db841dbe78ceffa1a8b5b96d0fa55315.jpg@750w_750h_1e_1c\"\r\n                          alt=\"\"\r\n                        />\r\n                      </div>\r\n                      <div className={Buy.meal_info}>\r\n                        {this.filter(item.title)}\r\n                        <div className={Buy.shop_num}>\r\n                          {item.curNumberDesc}杯\r\n                        </div>\r\n                        <div className={Buy.orice_shop}>\r\n                          <span>¥{item.price}</span>\r\n                          <div className={Buy.btn_block}>去购买</div>\r\n                        </div>\r\n                      </div>\r\n                    </li>\r\n                  );\r\n                })}\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import axios from \"axios\";\r\n// import qs from \"qs\";\r\n\r\nlet instance = axios.create({\r\n  // baseURL: \"http://m.maoyan.com\",\r\n  timeout: 1000\r\n});\r\n//处理自己新建的axios没有 all等方法\r\ninstance.__proto__ = axios;\r\n\r\n// 添加请求拦截器，在发送请求之前做些什么(**具体查看axios文档**)--------------------------------------------\r\ninstance.interceptors.request.use(\r\n  function(config) {\r\n    // 显示loading\r\n    return config;\r\n  },\r\n  function(error) {\r\n    // 请求错误时弹框提示，或做些其他事\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// 添加响应拦截器(**具体查看axios文档**)----------------------------------------------------------------\r\ninstance.interceptors.response.use(\r\n  function(response) {\r\n    // 对响应数据做点什么，允许在数据返回客户端前，修改响应的数据\r\n    // 如果只需要返回体中数据，则如下，如果需要全部，则 return response 即可\r\n    return response.data;\r\n  },\r\n  function(error) {\r\n    // 对响应错误做点什么\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// 封装数据返回失败提示函数---------------------------------------------------------------------------\r\nfunction errorState(response) {\r\n  // 隐藏loading\r\n  // 如果http状态码正常，则直接返回数据\r\n  if (\r\n    response &&\r\n    (response.status === 200 ||\r\n      response.status === 304 ||\r\n      response.status === 400)\r\n  ) {\r\n    // 如果不需要除了data之外的数据，可以直接 return response.data\r\n    return response;\r\n  } else {\r\n    alert(\"数据获取错误\");\r\n  }\r\n}\r\n\r\n// 封装数据返回成功提示函数---------------------------------------------------------------------------\r\nfunction successState(res) {\r\n  // 隐藏loading\r\n  // 统一判断后端返回的错误码(错误码与后台协商而定)\r\n  if (res.data.code === \"000000\") {\r\n    alert(\"success\");\r\n    return res;\r\n  }\r\n}\r\nlet request = (url, method = \"get\", params) => {\r\n\r\n  let me = method.toUpperCase();\r\n  let httpDefault = {\r\n    url,\r\n    method: me,\r\n    params: me === \"GET\" || me === \"DELETE\" ? params : null,\r\n    data: me === \"PSOT\" || me === \"PUT\" ? params : null\r\n  };\r\n\r\n  return new Promise((resolve, reject) => {\r\n    instance(httpDefault)\r\n      .then(res => {\r\n        // successState(res);\r\n        resolve(res);\r\n      })\r\n      .catch(response => {\r\n        // errorState(response);\r\n        reject(response);\r\n      });\r\n  });\r\n};\r\nlet requestAll = arr => {\r\n  return new Promise((resolve , reject)=>{\r\n    instance.all(arr).then(\r\n      instance.spread(function(acct, perms) {\r\n        // 两个请求现在都执行完成\r\n        resolve([acct, perms]);\r\n      })\r\n    );\r\n  })\r\n  \r\n};\r\n\r\nexport { request, requestAll };\r\n","import { request, requestAll } from \"./axios.js\";\r\n\r\nexport const getCityList = () => {\r\n  return request(\"/api/cityList\");\r\n  // return request(\"/ajax/movieOnInfoList\");\r\n};\r\nexport const getLocation = () => {\r\n  return request(\"/api/getLocation\");\r\n};\r\nexport const getHotList = id => {\r\n  // return request(`/api/movieOnInfoList?cityId=${id}`);\r\n  return request(\"/api/movieOnInfoList\", \"GET\", { cityId: id });\r\n};\r\n\r\nexport const getCinemaInfo = cityid => {\r\n  return request(`/api/cinemaList?cityId=${cityid}`);\r\n};\r\nexport const search = (cityId, kW) => {\r\n  return request(`/api/searchList?kw=${kW}&cityId=${cityId}`);\r\n};\r\nexport const getMovieDetail = movieId => {\r\n  return request(`/api/detailmovie?movieId=${movieId}`);\r\n};\r\n\r\nexport const getCinemasMovieInfo = arr => {\r\n  return requestAll(arr);\r\n};\r\n\r\nexport const getCinemaList = cityId => {\r\n  return request(`/api/cinemaList?cityId=${cityId}`);\r\n};\r\n\r\nexport const getSomeCinemaDetail = (cinemaId, movieId) => {\r\n  return request(`/ajax/cinemaDetail?cinemaId=${cinemaId}&movieId=${movieId}`);\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"root--2weXY\",\"nav_wrap_left\":\"nav_wrap_left--3U19y\",\"navbar\":\"navbar--1EpG7\",\"nav_right\":\"nav_right--1ZrSt\",\"position\":\"position--2lF6s\",\"shop\":\"shop--gwCqQ\",\"clickPosi\":\"clickPosi--2qvIA\",\"movie_detail\":\"movie_detail--jcyqd\",\"movie_filter\":\"movie_filter--1lCFV\",\"poster_bg\":\"poster_bg--2rQaU\",\"post_bg_filter\":\"post_bg_filter--Ufekk\",\"movie_title\":\"movie_title--3H0-y\",\"movie_cen\":\"movie_cen--1QEdh\",\"des\":\"des--1oSjd\",\"author\":\"author--2n7Pi\",\"hinder\":\"hinder--1pv0J\",\"playDate\":\"playDate--3UZxG\",\"selectDate\":\"selectDate--2nSXr\",\"shopDetail\":\"shopDetail--2fUqo\",\"rime_block\":\"rime_block--3L6MX\",\"begin\":\"begin--3uDVH\",\"end\":\"end--_E2DH\",\"info_block\":\"info_block--qhGjG\",\"lan\":\"lan--2H-o8\",\"hall\":\"hall--jDa7F\",\"price\":\"price--wcs7Q\",\"btn_block\":\"btn_block--LNUWh\",\"meal\":\"meal--16Y83\",\"meal_title\":\"meal_title--77MVo\",\"meal_list\":\"meal_list--1ZuZB\",\"meal_img\":\"meal_img--2ribA\",\"meal_info\":\"meal_info--AV3We\",\"neal_params\":\"neal_params--1GQHF\",\"shop_num\":\"shop_num--3PdUS\",\"orice_shop\":\"orice_shop--3nUpv\",\"ul\":\"ul--1oB7Z\",\"scroll\":\"scroll--1Qs81\",\"shopBody\":\"shopBody--oKnVS\",\"none\":\"none--35Fvw\",\"h_list\":\"h_list--1huL2\",\"nnm\":\"nnm--1zniI\"};"],"sourceRoot":""}