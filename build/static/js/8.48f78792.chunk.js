(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{49:function(e,a,t){"use strict";t.r(a),t.d(a,"default",function(){return v});var n=t(14),i=t(15),c=t(24),l=t(23),r=t(25),s=t(0),o=t.n(s),m=t(105),u=(t(93),t(94)),d=t.n(u),p=(t(95),t(59)),v=function(e){function a(){var e;return Object(n.a)(this,a),(e=Object(c.a)(this,Object(l.a)(a).call(this))).switchSelectIndex=function(a){var t=a.currentTarget.dataset.id.split("&")[1]-0;e.setState({selectedMovieSeq:t})},e.selectDateIndex=function(a){var t=a.currentTarget.dataset.index-0;e.setState({dateIndex:t})},e.state={cinemaData:{},movies:[],selectedMovieSeq:0,dealList:[],dateIndex:0},e.obj=Object(s.createRef)(),e}return Object(r.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){this.getCinemaDetail()}},{key:"componentDidUpdate",value:function(){this.initSwiper()}},{key:"initSwiper",value:function(){new m.a(".swiper-container",{slideToClickedSlide:!0,slidesPerView:"auto",spaceBetween:30,centeredSlides:!0,slideActiveClass:"Sactive",autoplayDisableOnInteraction:!1}).slideTo(this.state.selectedMovieSeq,1e3,!1)}},{key:"getCinemaDetail",value:function(){var e=this,a=parseInt(this.props.match.params.movieId),t=parseInt(this.props.history.location.state.cinemaID);Object(p.h)(t,a).then(function(a){e.setState({cinemaData:a.cinemaData,movies:a.showData.movies,selectedMovieSeq:a.showData.selectedMovieSeq,dealList:a.dealList.dealList})})}},{key:"filteDate",value:function(e){var a=new Date(parseInt(e)),t=a.getHours().toString().padStart(2,"0"),n=a.getMinutes().toString().padStart(2,"0");return"".concat(t,":").concat(n)}},{key:"filter",value:function(e){var a=e.slice(0,2),t="\u5355\u4eba"===a||"\u53cc\u4eba"===a?a:"\u5355\u4eba";return o.a.createElement("div",{className:d.a.neal_params},o.a.createElement("span",null,t),e)}},{key:"toNavAddress",value:function(){var e=this.state.cinemaData,a=e.lat,t=e.lng,n=e.nm;window.location.href="https://uri.amap.com/marker?position=".concat(t,",").concat(a,"&name=").concat(n,"&callnative=1")}},{key:"picFix",value:function(e){if(void 0!==e)return e.replace("w.h","65.94")}},{key:"render",value:function(){var e=this,a=this.state,t=a.cinemaData,n=a.movies,i=a.selectedMovieSeq,c=a.dealList,l=a.dateIndex,r=n[i]&&n[i].shows[l];return console.log(r),o.a.createElement("div",null,o.a.createElement("div",{className:d.a.navbar},o.a.createElement("div",{className:d.a.nav_wrap_left},o.a.createElement("i",{className:"iconfont icon-right",onClick:function(){e.props.history.goBack()}})),o.a.createElement("div",{className:d.a.nav_right},t.nm)),o.a.createElement("div",{className:d.a.position},o.a.createElement("div",{className:d.a.shop},o.a.createElement("h2",{className:d.a.nnm},t.nm),o.a.createElement("p",null,t.addr)),o.a.createElement("div",{className:d.a.clickPosi},o.a.createElement("img",{onClick:function(){e.toNavAddress()},src:"data:image/png;base64,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"}))),o.a.createElement("div",{className:d.a.movie_detail},o.a.createElement("div",{className:d.a.movie_filter},o.a.createElement("div",{className:"swiper-container"},o.a.createElement("div",{className:"swiper-wrapper"},n.map(function(a,t){return o.a.createElement("div",{className:"swiper-slide",key:a.img},o.a.createElement("img",{src:e.picFix(a.img),alt:"","data-id":a.id+"&"+t,onClick:function(a){e.switchSelectIndex(a)}}))}))),o.a.createElement("div",{className:d.a.poster_bg},o.a.createElement("img",{src:n[i]&&this.picFix(n[i].img),alt:"",className:d.a.poster_bg})),o.a.createElement("div",{className:d.a.post_bg_filter}))),o.a.createElement("div",{className:d.a.movie_title},o.a.createElement("div",{className:d.a.movie_cen},o.a.createElement("h2",null,n[i]&&n[i].nm),o.a.createElement("p",null,n[i]&&("0.0"===n[i].sc?"\u672a\u8bc4":n[i].sc)),o.a.createElement("span",null,"\u5206")),o.a.createElement("div",{className:d.a.des},o.a.createElement("ul",{className:d.a.author},o.a.createElement("li",null,n[i]&&n[i].desc)))),o.a.createElement("div",{className:d.a.playDate},o.a.createElement("ul",{className:d.a.scroll},n[i]&&n[i].shows.map(function(a,t){return o.a.createElement("li",{onClick:function(a){e.selectDateIndex(a)},"data-index":t,className:t===l?d.a.selectDate:"",key:a.dateShow},a.dateShow)}))),o.a.createElement("div",{className:d.a.shopBody},o.a.createElement("ul",{className:n[i]&&r.plist.length?"":d.a.none},n[i]&&r.plist.map(function(a){return o.a.createElement("li",{className:d.a.shopDetail,key:a.seqNo},o.a.createElement("div",{className:d.a.rime_block},o.a.createElement("p",{className:d.a.begin},e.filteDate(a.seqNo)),o.a.createElement("span",{className:d.a.end}," ",a.tm,"\u6563\u573a")),o.a.createElement("div",{className:d.a.info_block},o.a.createElement("div",{className:d.a.lan},"\u4e2d\u6587",a.tp),o.a.createElement("div",{className:d.a.hall},a.th)),o.a.createElement("div",{className:d.a.price},o.a.createElement("p",null,"\xa5",a.vipPrice)),o.a.createElement("div",{className:d.a.btn_block},"\u8d2d\u7968"))})),o.a.createElement("div",{className:n[i]&&r.length?d.a.h_list:d.a.none},"\u4eca\u65e5\u573a\u6b21\u64ad\u653e\u5b8c")),o.a.createElement("div",{className:d.a.meal},o.a.createElement("div",{className:d.a.meal_title},"\u5f71\u9662\u8d85\u503c\u5957\u9910"),o.a.createElement("div",{className:d.a.meal_list},o.a.createElement("ul",null,c.length&&c.map(function(a,t){return o.a.createElement("li",{key:t},o.a.createElement("div",{className:d.a.meal_img},o.a.createElement("img",{src:"http://p0.meituan.net/440.0/movie/afb09db841dbe78ceffa1a8b5b96d0fa55315.jpg@750w_750h_1e_1c",alt:""})),o.a.createElement("div",{className:d.a.meal_info},e.filter(a.title),o.a.createElement("div",{className:d.a.shop_num},a.curNumberDesc,"\u676f"),o.a.createElement("div",{className:d.a.orice_shop},o.a.createElement("span",null,"\xa5",a.price),o.a.createElement("div",{className:d.a.btn_block},"\u53bb\u8d2d\u4e70"))))})))))}}]),a}(s.Component)},59:function(e,a,t){"use strict";var n=t(61),i=t.n(n),c=i.a.create({timeout:1e3});c.__proto__=i.a,c.interceptors.request.use(function(e){return e},function(e){return Promise.reject(e)}),c.interceptors.response.use(function(e){return e.data},function(e){return Promise.reject(e)});var l=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"get",t=arguments.length>2?arguments[2]:void 0,n=a.toUpperCase(),i={url:e,method:n,params:"GET"===n||"DELETE"===n?t:null,data:"PSOT"===n||"PUT"===n?t:null};return new Promise(function(e,a){c(i).then(function(a){e(a)}).catch(function(e){a(e)})})};t.d(a,"d",function(){return r}),t.d(a,"f",function(){return s}),t.d(a,"e",function(){return o}),t.d(a,"a",function(){return m}),t.d(a,"i",function(){return u}),t.d(a,"g",function(){return d}),t.d(a,"c",function(){return p}),t.d(a,"b",function(){return v}),t.d(a,"h",function(){return f});var r=function(){return l("/api/cityList")},s=function(){return l("/api/getLocation")},o=function(e){return l("/api/movieOnInfoList","GET",{cityId:e})},m=function(e){return l("/api/cinemaList?cityId=".concat(e))},u=function(e,a){return l("/api/searchList?kw=".concat(a,"&cityId=").concat(e))},d=function(e){return l("/api/detailmovie?movieId=".concat(e))},p=function(e){return function(e){return new Promise(function(a,t){c.all(e).then(c.spread(function(e,t){a([e,t])}))})}(e)},v=function(e){return l("/api/cinemaList?cityId=".concat(e))},f=function(e,a){return l("/ajax/cinemaDetail?cinemaId=".concat(e,"&movieId=").concat(a))}},94:function(e,a,t){e.exports={root:"root--2weXY",nav_wrap_left:"nav_wrap_left--3U19y",navbar:"navbar--1EpG7",nav_right:"nav_right--1ZrSt",position:"position--2lF6s",shop:"shop--gwCqQ",clickPosi:"clickPosi--2qvIA",movie_detail:"movie_detail--jcyqd",movie_filter:"movie_filter--1lCFV",poster_bg:"poster_bg--2rQaU",post_bg_filter:"post_bg_filter--Ufekk",movie_title:"movie_title--3H0-y",movie_cen:"movie_cen--1QEdh",des:"des--1oSjd",author:"author--2n7Pi",hinder:"hinder--1pv0J",playDate:"playDate--3UZxG",selectDate:"selectDate--2nSXr",shopDetail:"shopDetail--2fUqo",rime_block:"rime_block--3L6MX",begin:"begin--3uDVH",end:"end--_E2DH",info_block:"info_block--qhGjG",lan:"lan--2H-o8",hall:"hall--jDa7F",price:"price--wcs7Q",btn_block:"btn_block--LNUWh",meal:"meal--16Y83",meal_title:"meal_title--77MVo",meal_list:"meal_list--1ZuZB",meal_img:"meal_img--2ribA",meal_info:"meal_info--AV3We",neal_params:"neal_params--1GQHF",shop_num:"shop_num--3PdUS",orice_shop:"orice_shop--3nUpv",ul:"ul--1oB7Z",scroll:"scroll--1Qs81",shopBody:"shopBody--oKnVS",none:"none--35Fvw",h_list:"h_list--1huL2",nnm:"nnm--1zniI"}},95:function(e,a,t){}}]);
//# sourceMappingURL=8.48f78792.chunk.js.map