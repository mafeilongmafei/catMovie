{"version":3,"sources":["components/search/index.module.less","views/Movieserach/index.module.less","components/searchInfo/index.module.less","components/toast/icons.js","components/search/search.jsx","components/searchInfo/index.jsx","components/toast/notice.js","components/toast/notification.js","components/toast/toast.js","views/Movieserach/index.jsx","request/axios.js","request/api.js","store/actions/home.js","components/cinemaDetail/index.jsx","components/cinemaDetail/index.module.less"],"names":["module","exports","search","from","input","ico","cancel","del_input","none","cont_head","list","span","cl","movie_cell","head_portrait","content","con_title","Movi_title","see","reverSee","con_bom","info","btn","false","window","svgSprite","shouldInjectCss","scripts","document","getElementsByTagName","length","getAttribute","prepend","el","target","firstChild","parentNode","insertBefore","before","appendChild","__iconfont__svg__cssinject__","write","e","console","log","fn","addEventListener","indexOf","readyState","setTimeout","loadFn","removeEventListener","attachEvent","w","d","done","init","polling","documentElement","doScroll","onreadystatechange","IEContentLoaded","ready","div","svg","createElement","innerHTML","setAttribute","style","position","width","height","overflow","body","tim","Search","withRouter","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","pathname","canNavPath","removeValue","history","push","changeInput","value","setValue","onsearch","onSearch","clearInterval","remValue","removeListData","state","_this2","_react_16_11_0_react_default","a","className","Sh","src","type","name","id","placeholder","defaultValue","onChange","onClick","Component","connect","home","searchInfo","movies","map","movie","SMInfo","img","nm","sc","cat","rt","globalReleased","Notice","_this$props","concat","aria-hidden","xlinkHref","success","warning","error","loading","Notification","transitionTime","notices","removeNotice","bind","assertThisInitialized","Date","getTime","notice","key","getNoticeKey","every","item","setState","duration","_this3","filter","onClose","_this4","TransitionGroup","CSSTransition","classNames","timeout","toast_notice","createNotification","notification","ref","React","createRef","ReactDOM","render","notification_Notification","addNotice","current","destroy","unmountComponentAtNode","removeChild","arguments","undefined","notificationDOM","toast_toast","MovieSearch","getSearchData","kw","cityId","location","hideLoading","Toast","message","cinemas","data","getStorage","set","then","res","catch","err","navCinemInfo","cinemaID","deleHistory","currentTarget","dataset","text","index","findIndex","splice","saveStroage","JSON","parse","localStorage","getItem","setItem","stringify","Set","Array","data-text","components_searchInfo","cinemaDetail","navCinemaInfo","instance","axios","create","__proto__","interceptors","request","use","config","Promise","reject","response","url","method","params","me","toUpperCase","httpDefault","resolve","__webpack_require__","__webpack_exports__","api_getCityList","api_getLocation","api_getHotList","api_getCinemaInfo","api_search","api_getMovieDetail","api_getCinemasMovieInfo","api_getCinemaList","api_getSomeCinemaDetail","getCityList","getLocation","getHotList","getCinemaInfo","cityid","kW","getMovieDetail","movieId","getCinemasMovieInfo","arr","all","spread","acct","perms","requestAll","getCinemaList","getSomeCinemaDetail","cinemaId","setPos","_actionTypes__WEBPACK_IMPORTED_MODULE_0__","po","SETPOSITION","SETINPUTVALUE","REMOVEINPUTVALUE","CinemaDetail","D_wangye_rect_day10_miao_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","D_wangye_rect_day10_miao_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","D_wangye_rect_day10_miao_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","thisnavTo","cinemsID","react__WEBPACK_IMPORTED_MODULE_5___default","CM","movie_info","cinema","data-id","movie_title","nnm","price","sellPrice","movie_address","addr","distance","afterSale","tag","allowRefund","hallTypeVOList","vipTag","snack","promotion","cardPromotionTag","discounts","alt","price2"],"mappings":"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","file":"static/js/4.c92d821b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"search\":\"search--19BPR\",\"from\":\"from--30ndX\",\"input\":\"input--3c9Go\",\"ico\":\"ico--3X2x2\",\"cancel\":\"cancel--38kwI\",\"del_input\":\"del_input--QEJwn\",\"none\":\"none--1A2bn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"search\":\"search--1FwIh\",\"cont_head\":\"cont_head--3YXOE\",\"none\":\"none--2w5ZO\",\"list\":\"list--3l4v6\",\"span\":\"span--Mh9jC\",\"cl\":\"cl--37gU_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"movie_cell\":\"movie_cell--8pHW-\",\"head_portrait\":\"head_portrait--ekPBj\",\"content\":\"content--lfl7L\",\"con_title\":\"con_title--1u1gt\",\"Movi_title\":\"Movi_title--25dg6\",\"see\":\"see--2InxG\",\"reverSee\":\"reverSee--3Plms\",\"cont_head\":\"cont_head--7nx2f\",\"con_bom\":\"con_bom--2asxf\",\"info\":\"info--1Kim8\",\"btn\":\"btn--1KZqI\",\"false\":\"false--1COyn\"};","/* eslint-disable */\n(function(window){var svgSprite='<svg><symbol id=\"icon-loading\" viewBox=\"0 0 1024 1024\"><path d=\"M960 447.008q-11.008-152.992-120-261.504t-260.992-120.512q-16-0.992-27.488 9.504t-11.488 26.496q0 14.016 9.504 24.512t23.488 11.488q55.008 4 107.008 26.016 60.992 26.016 108.992 73.504t74.016 109.504q22.016 51.008 26.016 106.016 0.992 14.016 11.488 23.488t24.512 9.504q15.008 0 26.016-11.008 11.008-12 8.992-27.008z\"  ></path></symbol><symbol id=\"icon-check-circle-fill\" viewBox=\"0 0 1024 1024\"><path d=\"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64z m193.5 301.7l-210.6 292c-12.7 17.7-39 17.7-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z\"  ></path></symbol><symbol id=\"icon-close-circle-fill\" viewBox=\"0 0 1024 1024\"><path d=\"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64z m165.4 618.2l-66-0.3L512 563.4l-99.3 118.4-66.1 0.3c-4.4 0-8-3.5-8-8 0-1.9 0.7-3.7 1.9-5.2l130.1-155L340.5 359c-1.2-1.5-1.9-3.3-1.9-5.2 0-4.4 3.6-8 8-8l66.1 0.3L512 464.6l99.3-118.4 66-0.3c4.4 0 8 3.5 8 8 0 1.9-0.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z\"  ></path></symbol><symbol id=\"icon-info-circle-fill\" viewBox=\"0 0 1024 1024\"><path d=\"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64z m32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272z m-32-344c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48z\"  ></path></symbol><symbol id=\"icon-warning-circle-fill\" viewBox=\"0 0 1024 1024\"><path d=\"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64z m-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296z m32 440c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48z\"  ></path></symbol></svg>';var script=function(){var scripts=document.getElementsByTagName(\"script\");return scripts[scripts.length-1]}();var shouldInjectCss=script.getAttribute(\"data-injectcss\");var ready=function(fn){if(document.addEventListener){if(~[\"complete\",\"loaded\",\"interactive\"].indexOf(document.readyState)){setTimeout(fn,0)}else{var loadFn=function(){document.removeEventListener(\"DOMContentLoaded\",loadFn,false);fn()};document.addEventListener(\"DOMContentLoaded\",loadFn,false)}}else if(document.attachEvent){IEContentLoaded(window,fn)}function IEContentLoaded(w,fn){var d=w.document,done=false,init=function(){if(!done){done=true;fn()}};var polling=function(){try{d.documentElement.doScroll(\"left\")}catch(e){setTimeout(polling,50);return}init()};polling();d.onreadystatechange=function(){if(d.readyState==\"complete\"){d.onreadystatechange=null;init()}}}};var before=function(el,target){target.parentNode.insertBefore(el,target)};var prepend=function(el,target){if(target.firstChild){before(el,target.firstChild)}else{target.appendChild(el)}};function appendSvg(){var div,svg;div=document.createElement(\"div\");div.innerHTML=svgSprite;svgSprite=null;svg=div.getElementsByTagName(\"svg\")[0];if(svg){svg.setAttribute(\"aria-hidden\",\"true\");svg.style.position=\"absolute\";svg.style.width=0;svg.style.height=0;svg.style.overflow=\"hidden\";prepend(svg,document.body)}}if(shouldInjectCss&&!window.__iconfont__svg__cssinject__){window.__iconfont__svg__cssinject__=true;try{document.write(\"<style>.svgfont {display: inline-block;width: 1em;height: 1em;fill: currentColor;vertical-align: -0.1em;font-size:16px;}</style>\")}catch(e){console&&console.log(e)}}ready(appendSvg)})(window)\n/* eslint-enable */","import React, { Component } from 'react';\r\nimport { withRouter } from \"react-router-dom\"\r\nimport { connect } from \"react-redux\";\r\nimport Sh from \"./index.module.less\"\r\nimport { setValue , remValue } from \"../../store/actions/home.js\"\r\n\r\nlet tim = null;\r\n@withRouter\r\nclass Search extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n  componentDidMount() {\r\n    this.props.remValue()\r\n  }\r\n  cancel = () => {\r\n    let pathname = this.props.canNavPath;\r\n    this.removeValue()\r\n    this.props.history.push(pathname);\r\n  };\r\n  changeInput = e => {\r\n    let value = e.target.value;\r\n    this.props.setValue(value);\r\n    let onsearch = this.props.onSearch;\r\n    clearInterval(tim)\r\n    tim = setTimeout(() => {\r\n      onsearch(value)\r\n    }, 1000);\r\n  };\r\n  removeValue = () =>{\r\n     this.props.remValue();\r\n     this.props.removeListData()\r\n  }\r\n  render() {\r\n    return (\r\n      <div className={Sh.search}>\r\n        <div className={Sh.from}>\r\n          {/* <div className={Sh.form_children}> */}\r\n            <img\r\n              src=\"http://s0.meituan.net/bs/?f=myfe/canary:/static/deploy/images/search.png\"\r\n              className={Sh.ico}\r\n            />\r\n            <input\r\n              type=\"text\"\r\n              name=\"\"\r\n              id=\"\"\r\n              placeholder=\"搜电影,搜影院\"\r\n              className={Sh.input}\r\n              value={this.props.defaultValue}\r\n              onChange={e => {\r\n                this.changeInput(e);\r\n              }}\r\n            />\r\n          {/* </div> */}\r\n          <img\r\n            className={Sh.del_input}\r\n            src=\"//s0.meituan.net/bs/?f=myfe/canary:/static/deploy/images/close.png\"\r\n            onClick={() => {\r\n              this.removeValue();\r\n            }}\r\n          />\r\n        </div>\r\n        <span\r\n          className={Sh.cancel}\r\n          onClick={() => {\r\n            this.cancel();\r\n          }}\r\n        >\r\n          取消\r\n        </span>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst mapState = state =>{\r\n    return {\r\n      defaultValue: state.home.defaultValue\r\n    };\r\n}\r\n \r\nexport default connect(\r\n  mapState,\r\n  { setValue, remValue }\r\n)(Search);","import React, { Component } from \"react\";\r\n\r\nimport SMInfo from \"./index.module.less\";\r\n\r\nclass searchInfo extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        {this.props.movies.map(movie => {\r\n          return (\r\n            <div className={SMInfo.movie_cell}>\r\n              <div className={SMInfo.head_portrait}>\r\n                <img src={movie.img} />\r\n              </div>\r\n              <div className={SMInfo.content}>\r\n                <div className={SMInfo.con_title}>\r\n                  <span className={SMInfo.Movi_title}>\r\n                    {movie.nm}\r\n                  </span>\r\n                  <div className={movie.sc ? SMInfo.see : SMInfo.reverSee}>\r\n                    {movie.sc || \"暂无评分\"}\r\n                  </div>\r\n                </div>\r\n                <div className={SMInfo.con_bom}>\r\n                  <div>\r\n                    <span className={SMInfo.info}>{movie.cat}</span>\r\n                    <span className={SMInfo.info}>{movie.rt}</span>\r\n                  </div>\r\n                  <div\r\n                    className={\r\n                      !movie.globalReleased\r\n                        ? SMInfo.btn\r\n                        : SMInfo.false\r\n                    }\r\n                  >\r\n                    {movie.globalReleased ? \"购票\" : \"想看\"}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default searchInfo;\r\n","import React, { Component } from 'react'\n\nclass Notice extends Component {\n    render() {\n        const icons = {\n            info: 'icon-info-circle-fill',\n            success: 'icon-check-circle-fill',\n            warning: 'icon-warning-circle-fill',\n            error: 'icon-close-circle-fill',\n            loading: 'icon-loading'\n        }\n        const { type, content } = this.props\n        return (\n            <div className={`toast-notice ${type}`}>\n                <svg className=\"icon\" aria-hidden=\"true\">\n                    <use xlinkHref={`#${icons[type]}`} />\n                </svg>\n                <span>{content}</span>\n            </div>\n        )\n    }\n}\n\nexport default Notice","import React, { Component } from 'react'\nimport ReactDOM from 'react-dom'\nimport { CSSTransition, TransitionGroup } from 'react-transition-group'\nimport Notice from './notice'\nimport \"./icons.js\";\nclass Notification extends Component {\n    constructor() {\n        super()\n        this.transitionTime = 300\n        this.state = { notices: [] }\n        this.removeNotice = this.removeNotice.bind(this)\n    }\n    //法为这个 notice 添加唯一的key值，再将其添加到 notices 中\n    getNoticeKey() {\n        const { notices } = this.state\n        return `notice-${new Date().getTime()}-${notices.length}`\n    }\n    //即是添加也是重新渲染\n    //没有传进notices啥也没有\n    addNotice(notice) {\n        const { notices } = this.state\n        notice.key = this.getNoticeKey()\n        if (notices.every(item => item.key !== notice.key)) {\n            // 如果每次添加时,最后一个notice的type时loading\n            if (notice.length > 0 && notices[notice.length - 1].type === 'loading') {\n                notices.push(notice)\n                //根据传进来的时间.,延时执行这个函数\n                setTimeout(() => { this.setState({ notices }) }, this.transitionTime)\n            } else {\n                notices.push(notice)\n                this.setState({ notices })\n            }\n            //根据传进来的时间.,延时执行这个函数\n            if (notice.duration > 0) {\n                setTimeout(() => {\n                    this.removeNotice(notice.key)\n                }, notice.duration)\n            }\n        }\n        //这里规定若 duration 的值小于等于0则消息不会自动关闭， 需要手动关闭\n        //最后返回一个干掉这个方法的   方法\n        //所以loading和  notice.duration等于0和小于0时 , 消息不会自动关闭， 需要手动关闭\n        return () => { this.removeNotice(notice.key) }\n    }\n\n    removeNotice(key) {\n        const { notices } = this.state\n        this.setState({\n            notices: notices.filter((notice) => {\n                if (notice.key === key) {\n                    if (notice.onClose) setTimeout(notice.onClose, this.transitionTime)\n                    return false\n                }\n                return true\n            })\n        })\n    }\n\n    render() {\n        const { notices } = this.state\n        return (\n            <TransitionGroup className=\"toast-notification\">\n                {\n                    notices.map(notice => (\n                        <CSSTransition\n                            key={notice.key}\n                            classNames=\"toast-notice-wrapper notice\"\n                            timeout={this.transitionTime}\n                        >\n                            <Notice {...notice} />\n                        </CSSTransition>\n                    ))\n                }\n            </TransitionGroup>\n        )\n    }\n}\n\nfunction createNotification() {\n    // 3. 使用 ReactDOM 把虚拟DOM 渲染到页面上\n    // 参数1： 要渲染的那个虚拟DOM元素\n    // 参数2： 指定页面上的DOM元素，当作容器 \n    const div = document.createElement('div')\n    document.body.appendChild(div)\n    const ref = React.createRef()\n    ReactDOM.render(<Notification ref={ref} />, div)\n    return {\n        addNotice(notice) {\n            //ref.current就是这个组件,他有这个方法  上面的class组件\n            //notice一个对象包含有{type, content, duration, onClose}\n            return ref.current.addNotice(notice)\n        },\n        destroy() {\n            // DOM 中卸载组\n            ReactDOM.unmountComponentAtNode(div)\n            document.body.removeChild(div)\n        }\n    }\n}\n//导出的是这个函数执行之后的结果\nexport default createNotification()","import notificationDOM from './notification'\nimport './toast.css'\n\nlet notification\nconst notice = (type, content, duration = 2000, onClose) => {\n    //因为一个页面中只需要存在一个 Notification 组件，所以每次调用函数时只需要判断当前 notification 对象是否存在即可，无需重复创建。\n    if (!notification) notification = notificationDOM\n    return notification.addNotice({ type, content, duration, onClose })\n}\n\nexport default {\n    info(content, duration, onClose) {\n        return notice('info', content, duration, onClose)\n    },\n    success(content, duration, onClose) {\n        return notice('success', content, duration, onClose)\n    },\n    warning(content, duration, onClose) {\n        return notice('warning', content, duration, onClose)\n    },\n    error(content, duration, onClose) {\n        return notice('error', content, duration, onClose)\n    },\n    loading(content, duration = 0, onClose) {\n        return notice('loading', content, duration, onClose)\n    }\n}","import React, { Component } from \"react\";\r\nimport { search } from \"../../request/api.js\";\r\nimport Search from \"../../components/search/search.jsx\";\r\nimport Sh from \"./index.module.less\";\r\n\r\nimport CinemaDetail from \"@/components/cinemaDetail/index.jsx\";\r\nimport SearchInfo from \"../../components/searchInfo/index.jsx\";\r\n\r\nimport Toast from \"../../components/toast/toast.js\";\r\nclass MovieSearch extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      movies: [],\r\n      cinemas: [],\r\n      message: \"\",\r\n      history: []\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    let history = this.getStorage();\r\n    history = this.set(history);\r\n    this.setState({\r\n      history\r\n    });\r\n  }\r\n  getSearchData = kw => {\r\n    let cityId = this.props.history.location.state.id;\r\n    const hideLoading = Toast.loading(\"加载中\", 0);\r\n    if (!kw) {\r\n      hideLoading();\r\n      this.setState({\r\n        message: \"\",\r\n        movies: [],\r\n        cinemas: []\r\n      });\r\n      return;\r\n    }\r\n    let data = this.getStorage();\r\n    data.push(kw);\r\n    data = this.set(data);\r\n    this.setState({\r\n      history: data\r\n    });\r\n    this.set(data);\r\n    search(cityId, kw)\r\n      .then(res => {\r\n        if (res.data.movies || res.data.cinemas) {\r\n          hideLoading();\r\n          this.setState({\r\n            message: \"\",\r\n            movies: (res.data.movies && res.data.movies.list) || [],\r\n            cinemas: (res.data.cinemas && res.data.cinemas.list) || []\r\n          });\r\n        } else {\r\n          hideLoading();\r\n          this.setState({\r\n            message: \"没有找到相关内容\",\r\n            movies: [],\r\n            cinemas: []\r\n          });\r\n        }\r\n      })\r\n      .catch(err => {\r\n        hideLoading();\r\n        Toast.error(\"稍后重新访问\", 2000);\r\n        this.setState({\r\n          message: \"\",\r\n          movies: [],\r\n          cinemas: []\r\n        });\r\n      });\r\n  };\r\n  removeListData = () => {\r\n    this.setState({\r\n      message: \"\",\r\n      movies: [],\r\n      cinemas: []\r\n    });\r\n  };\r\n  //跳转到单个影院详情页面\r\n  navCinemInfo = cinemaID => {\r\n    // let movieID = this.props.location.search.split(\"=\")[1];\r\n    // if (movieID && cinemaID) {\r\n    //   this.props.history.push(`/shows/${movieID}`, {\r\n    //     cinemaID\r\n    //   });\r\n    //}\r\n  };\r\n  getStorage() {\r\n    let data = JSON.parse(localStorage.getItem(\"searchHistory\") || \"[]\");\r\n    data = this.set(data);\r\n    return data;\r\n  }\r\n  saveStroage(data) {\r\n    localStorage.setItem(\"searchHistory\", JSON.stringify(data));\r\n  }\r\n  deleHistory = e => {\r\n    let value = e.currentTarget.dataset.text;\r\n    let history = this.getStorage();\r\n    let index = history.findIndex(item => {\r\n      return item === value;\r\n    });\r\n\r\n    history.splice(index, 1);\r\n    this.saveStroage(history);\r\n    this.setState({\r\n      history\r\n    });\r\n  };\r\n  set(data) {\r\n    let set = new Set(data);\r\n    data = Array.from(set);\r\n    this.saveStroage(data);\r\n    return data;\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"body\">\r\n        <div className=\"navbar\">\r\n          <p>猫眼电影</p>\r\n        </div>\r\n        <Search\r\n          canNavPath=\"/\"\r\n          onSearch={this.getSearchData}\r\n          removeListData={this.removeListData}\r\n        />\r\n        {/* this.state.movies.length? Sh.none: */}\r\n        {this.state.history.map(item => {\r\n          return (\r\n            <div\r\n              className={\r\n                this.state.movies.length || this.state.cinemas.length\r\n                  ? Sh.none\r\n                  : Sh.list\r\n              }\r\n              key={item}\r\n            >\r\n              {item}\r\n              <div\r\n                className={Sh.cl}\r\n                data-text={item}\r\n                onClick={e => {\r\n                  this.deleHistory(e);\r\n                }}\r\n              >\r\n                <span className={Sh.span} data-text={item}>\r\n                  x\r\n                </span>\r\n              </div>\r\n            </div>\r\n          );\r\n        })}\r\n\r\n        <div className={this.state.message ? Sh.cont_head : Sh.none}>\r\n          <h3>{this.state.message}</h3>\r\n        </div>\r\n        <div\r\n          className={\r\n            this.state.movies && this.state.movies.length\r\n              ? Sh.cont_head\r\n              : Sh.none\r\n          }\r\n        >\r\n          <h3>电影/电视剧/综艺</h3>\r\n        </div>\r\n        <SearchInfo movies={this.state.movies} cinemas={this.state.cinemas} />\r\n        <div\r\n          className={\r\n            this.state.cinemas && this.state.cinemas.length\r\n              ? Sh.cont_head\r\n              : Sh.none\r\n          }\r\n        >\r\n          <h3>影院</h3>\r\n        </div>\r\n        <CinemaDetail\r\n          cinemas={this.state.cinemas}\r\n          navCinemaInfo={this.navCinemInfo}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MovieSearch;\r\n","import axios from \"axios\";\r\n// import qs from \"qs\";\r\n\r\nlet instance = axios.create({\r\n  // baseURL: \"http://m.maoyan.com\",\r\n  timeout: 1000\r\n});\r\n//处理自己新建的axios没有 all等方法\r\ninstance.__proto__ = axios;\r\n\r\n// 添加请求拦截器，在发送请求之前做些什么(**具体查看axios文档**)--------------------------------------------\r\ninstance.interceptors.request.use(\r\n  function(config) {\r\n    // 显示loading\r\n    return config;\r\n  },\r\n  function(error) {\r\n    // 请求错误时弹框提示，或做些其他事\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// 添加响应拦截器(**具体查看axios文档**)----------------------------------------------------------------\r\ninstance.interceptors.response.use(\r\n  function(response) {\r\n    // 对响应数据做点什么，允许在数据返回客户端前，修改响应的数据\r\n    // 如果只需要返回体中数据，则如下，如果需要全部，则 return response 即可\r\n    return response.data;\r\n  },\r\n  function(error) {\r\n    // 对响应错误做点什么\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// 封装数据返回失败提示函数---------------------------------------------------------------------------\r\nfunction errorState(response) {\r\n  // 隐藏loading\r\n  // 如果http状态码正常，则直接返回数据\r\n  if (\r\n    response &&\r\n    (response.status === 200 ||\r\n      response.status === 304 ||\r\n      response.status === 400)\r\n  ) {\r\n    // 如果不需要除了data之外的数据，可以直接 return response.data\r\n    return response;\r\n  } else {\r\n    alert(\"数据获取错误\");\r\n  }\r\n}\r\n\r\n// 封装数据返回成功提示函数---------------------------------------------------------------------------\r\nfunction successState(res) {\r\n  // 隐藏loading\r\n  // 统一判断后端返回的错误码(错误码与后台协商而定)\r\n  if (res.data.code === \"000000\") {\r\n    alert(\"success\");\r\n    return res;\r\n  }\r\n}\r\nlet request = (url, method = \"get\", params) => {\r\n\r\n  let me = method.toUpperCase();\r\n  let httpDefault = {\r\n    url,\r\n    method: me,\r\n    params: me === \"GET\" || me === \"DELETE\" ? params : null,\r\n    data: me === \"PSOT\" || me === \"PUT\" ? params : null\r\n  };\r\n\r\n  return new Promise((resolve, reject) => {\r\n    instance(httpDefault)\r\n      .then(res => {\r\n        // successState(res);\r\n        resolve(res);\r\n      })\r\n      .catch(response => {\r\n        // errorState(response);\r\n        reject(response);\r\n      });\r\n  });\r\n};\r\nlet requestAll = arr => {\r\n  return new Promise((resolve , reject)=>{\r\n    instance.all(arr).then(\r\n      instance.spread(function(acct, perms) {\r\n        // 两个请求现在都执行完成\r\n        resolve([acct, perms]);\r\n      })\r\n    );\r\n  })\r\n  \r\n};\r\n\r\nexport { request, requestAll };\r\n","import { request, requestAll } from \"./axios.js\";\r\n\r\nexport const getCityList = () => {\r\n  return request(\"/api/cityList\");\r\n  // return request(\"/ajax/movieOnInfoList\");\r\n};\r\nexport const getLocation = () => {\r\n  return request(\"/api/getLocation\");\r\n};\r\nexport const getHotList = id => {\r\n  // return request(`/api/movieOnInfoList?cityId=${id}`);\r\n  return request(\"/api/movieOnInfoList\", \"GET\", { cityId: id });\r\n};\r\n\r\nexport const getCinemaInfo = cityid => {\r\n  return request(`/api/cinemaList?cityId=${cityid}`);\r\n};\r\nexport const search = (cityId, kW) => {\r\n  return request(`/api/searchList?kw=${kW}&cityId=${cityId}`);\r\n};\r\nexport const getMovieDetail = movieId => {\r\n  return request(`/api/detailmovie?movieId=${movieId}`);\r\n};\r\n\r\nexport const getCinemasMovieInfo = arr => {\r\n  return requestAll(arr);\r\n};\r\n\r\nexport const getCinemaList = cityId => {\r\n  return request(`/api/cinemaList?cityId=${cityId}`);\r\n};\r\n\r\nexport const getSomeCinemaDetail = (cinemaId, movieId) => {\r\n  return request(`/ajax/cinemaDetail?cinemaId=${cinemaId}&movieId=${movieId}`);\r\n};\r\n","import { SETPOSITION, SETINPUTVALUE, REMOVEINPUTVALUE } from \"./actionTypes\";\r\n\r\n\r\nexport const setPos = (po)=>{\r\n    return {\r\n        type : SETPOSITION,\r\n        data : po\r\n    }\r\n}\r\n\r\nexport const setValue = (value) => {\r\n    return {\r\n      type: SETINPUTVALUE,\r\n      data : value\r\n    };\r\n}\r\n\r\nexport const remValue = () => {\r\n    return {\r\n      type: REMOVEINPUTVALUE,\r\n    };\r\n}","import React, { Component } from \"react\";\r\nimport CM from \"./index.module.less\";\r\nclass CinemaDetail extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n  thisnavTo = (e) =>{\r\n    let cinemsID = e.target.dataset.id\r\n    this.props.navCinemaInfo(cinemsID);\r\n  }\r\n  render() {\r\n    return (\r\n      <div className={CM.movie_info}>\r\n        <ul\r\n          onClick={e => {\r\n            this.thisnavTo(e);\r\n          }}\r\n        >\r\n          {this.props.cinemas.map(cinema => {\r\n            return (\r\n              <li key={cinema.id} data-id={cinema.id}>\r\n                <div className={CM.movie_title} data-id={cinema.id}>\r\n                  <p className={CM.nnm + \" pointer\"}>{cinema.nm}</p>\r\n                  <div className={CM.price}>{cinema.sellPrice}</div>\r\n                  <span>元起</span>\r\n                </div>\r\n                <div className={CM.movie_address} data-id={cinema.id}>\r\n                  <p className=\"pointer\">{cinema.addr}</p>\r\n                  <span>{cinema.distance}</span>\r\n                </div>\r\n                <div className={CM.afterSale} data-id={cinema.id}>\r\n                  <div\r\n                    className={\r\n                      cinema.tag && cinema.tag.allowRefund\r\n                        ? CM.allowRefund\r\n                        : CM.none\r\n                    }\r\n                  >\r\n                    退\r\n                  </div>\r\n\r\n                  <div className={CM.allowRefund}>改签</div>\r\n                  {cinema.tag &&\r\n                    cinema.tag.hallTypeVOList &&\r\n                    cinema.tag.hallTypeVOList.map(item => {\r\n                      return (\r\n                        <div className={CM.allowRefund} key={item.name}>\r\n                          {item.name}\r\n                        </div>\r\n                      );\r\n                    })}\r\n\r\n                  <div className={CM.vipTag}>折扣卡</div>\r\n                  <div\r\n                    className={\r\n                      cinema.tag && cinema.tag.snack ? CM.allowRefund : CM.none\r\n                    }\r\n                  >\r\n                    小吃\r\n                  </div>\r\n                </div>\r\n\r\n                <div\r\n                  className={\r\n                    cinema.promotion && cinema.promotion.cardPromotionTag\r\n                      ? CM.discounts\r\n                      : CM.none\r\n                  }\r\n                >\r\n                  <img\r\n                    src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAeCAYAAABNChwpAAAAAXNSR0IArs4c6QAAAgFJREFUSA3Nlz1LA0EQhmf3kouFEQwi+FEYQ+xEsImFoCDoL/CLaKd/QbC0sbCzFVuxsRS1jEVAsUqrIILRQAhaBGKMuawzwpGAm83mNhddCHfZnd3n3Z2ZuxsG2JI3YtQpVw6AiTkhYJj6/GqMwSsIdm312DsnMyzLCF79rGRAiIhfUOm6jL0FQvZU4Gfn0GU4KcINE5vjsc9LFXajE9kcfT7UDZaMQWwuG9Dpi/YyiIWZjqnSxrOAtWgANsYDysV1Bj0L0Flcx8ZoC1F0wf50UMo5fqjCY1FIxxo7jQSUHWgK+ag2YprfGwnIlQTQTk3a/46B2UEOIUu+v0gIIMgZLLTIZHJTOl+TL4K9ShckMc36Q+pc356QB6FLLJQFCqi4f39d2WoKLTy03ckg2OjAvcyXh9n1KX8eA0YC4n0MtuLoJru+o3bvjAS8o2vpfXCYsGEzZkFYHQ5SbcoglM5o6KQAoxhIDHBYiVqYERZcZB04f3aghNGv04wEuIDbQg3u8Lc4YsHymAVLeD17cuDypbWKjgggIZTpVwhM5x1YxzdlpaaXXB0T4J5GEbPy6F7/8WwUhC7U5OpZgIPfU5qnrNTn+UmoXLWNQc8n0AZDacqxUskpLXwcJDbHMinlI0O9NLI51WiAZZLa0odRZBKbU4FINRoDdtoNdxCDWMQk9jePWpE8hVOLbwAAAABJRU5ErkJggg==\"\r\n                    alt=\"\"\r\n                  />\r\n                  <span>\r\n                    {cinema.promotion && cinema.promotion.cardPromotionTag}\r\n                  </span>\r\n                </div>\r\n              </li>\r\n            );\r\n          })}\r\n        </ul>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CinemaDetail;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"movie_info\":\"movie_info--2cQIh\",\"movie_title\":\"movie_title--1p3ie\",\"price2\":\"price2--2oon4\",\"movie_address\":\"movie_address--3ATrj\",\"afterSale\":\"afterSale--2_DEf\",\"allowRefund\":\"allowRefund--227jS\",\"vipTag\":\"vipTag--3x3uN\",\"discounts\":\"discounts--323HL\",\"none\":\"none--138e8\",\"nnm\":\"nnm--YJPbJ\"};"],"sourceRoot":""}