(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{51:function(e,a,t){"use strict";t.r(a);var n=t(14),i=t(15),c=t(24),o=t(23),s=t(25),l=t(0),r=t.n(l),m=t(27),u=t(59),d=t(97),f=t.n(d),p=t(62),v=8,A=function(e){function a(e){var t;return Object(n.a)(this,a),(t=Object(c.a)(this,Object(o.a)(a).call(this,e))).back=function(){t.props.history.goBack()},t.handleScroll=function(){var e=window.scrollY,a=document.getElementById("date"),n=document.getElementsByClassName("movie_info--2cQIh")[0],i=n.clientHeight;if(t.getWindowHeight()-n.offsetTop+e>=i-30){var c=t.state.cinemas,o=t.loading();if(!o.length)return void t.setState({message:"\u6728\u6709\u4e86..."});t.setState({message:"\u52a0\u8f7d\u4e2d..."},function(){setTimeout(function(){o.forEach(function(e){c.push(e),t.setState({cinemas:c})})},1e3)})}n.clientHeight;if(t.state.bol){var s=document.getElementsByClassName(f.a.date)[0].offsetTop;t.setState({bol:!1,objY:s})}e>=t.state.objY?a.style.cssText=" width: 100% ; position: fixed;top: 0;background-color: #fff;}":a.style.cssText=""},t.navCinemInfo=function(e){var a=t.props.location.search.split("=")[1];a&&e&&t.props.history.push("/shows/".concat(a),{cinemaID:e})},t.state={cinemas:[],bol:!0,objY:0,message:"",ci:[],detailMovie:{}},t}return Object(s.a)(a,e),Object(i.a)(a,[{key:"loading",value:function(){return v+=3,this.state.ci.slice(v,v+3)}},{key:"componentDidMount",value:function(){var e=this;v=8,document.getElementById("root").style.display="block";var a=this.props.history.location.state.cityID,t=this.props.location.search.split("=")[1],n=[Object(u.g)(t),Object(u.a)(a)];Object(u.c)(n).then(function(a){e.setState({cinemas:a[1].data.cinemas.slice(0,8),objY:0,ci:a[1].data.cinemas,detailMovie:a[0].data.detailMovie},function(){e.forceUpdate()})}),window.addEventListener("scroll",this.handleScroll)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handleScroll)}},{key:"getWindowHeight",value:function(){return"CSS1Compat"==document.compatMode?document.documentElement.clientHeight:document.body.clientHeight}},{key:"fixed",value:function(e){if(e)return(parseInt(e)/1e4).toFixed(1)}},{key:"render",value:function(){var e=this,a=this.state.detailMovie;return r.a.createElement("div",{className:f.a.body},r.a.createElement("div",{className:"navbar"},r.a.createElement("div",{className:f.a.nav_wrap_left},r.a.createElement("i",{className:"iconfont icon-right",onClick:function(){e.back()}})),r.a.createElement("div",{className:f.a.nav_right},a.nm)),r.a.createElement("div",{className:f.a.movie_detail},r.a.createElement("div",{className:f.a.movie_filter},r.a.createElement("div",{className:f.a.poster_bg,style:{backgroundImage:a.albumImg}}),r.a.createElement("div",{className:f.a.detail},r.a.createElement("div",{className:f.a.poster},r.a.createElement("img",{src:a.albumImg})),r.a.createElement("div",{className:f.a.content},r.a.createElement("div",{className:f.a.line_ellipsis},a.nm),r.a.createElement("div",{className:f.a.title_en_name+" "+f.a.line_ellipsis},a.enm),r.a.createElement("div",{className:f.a.score+" "+f.a.line_ellipsis},a.sc,r.a.createElement("span",{className:f.a.snum},this.fixed(a.snum)+"\u4e07\u4eba\u8bc4")),r.a.createElement("div",{className:f.a.type+" "+f.a.line_ellipsis},r.a.createElement("span",null,a.cat),r.a.createElement("div",{className:f.a.type_group+" "+f.a.op},r.a.createElement("img",{style:{width:".693333rem"},className:f.a.imax,src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAeCAYAAABwmH1PAAACn0lEQVRYhe2ZUW7TQBCGv0RBrUSl+KW8po/lqTkAknOBCN+gewPCDdwbmBuYGwRxAILEAZoneHRf6QNBAgmJSsvDjOu18TqWnBLV5JdW68zMemd2Z2bH2YG1FuAp8Bw4BUb0C3fALfAZ+Dmw1p4AL4Ane1Xr4fEb+DQCzhFjvwJr4Nc+tXoAHAMXwDPgfIi4MfTTWBCb1vp8OqSI2T4amyO3bTTcqxp7wMHgvqONwVNgBRiHliht0WJ8pLKJhx8ofwXMGuZfqmwdlg3jy7DWzrXhaTMriB3aSmmbhnF5y1R25eEbW2DpkUka+E08t82ttfOuLj2mvPNVRMBkyztyL/kIvATOPDJr5bvzzYBXwM0WPe7R1eDvQNzA3+byU6QoeEvh8sYja3S+BFmUAHFlkIXdbJkL6G5wguxgVMObASFijA/5gqSI8k07da3yY5Vd6vNr5bVCV4NT7et20mgfe8YGyELdIAknf98Ev9EpsoAXyGK+w58Ma9HV4EwVCClnyDPgEonLzDM2QnbIVTjV3jTMufQ8t8IuzuFYe+PQFhVe07jUoWXIIoXUJ6/AkXfjuTV2YXCGKHlJkUwMklVXnjEziuz9DbBOC5VeFyZ53F5RjufW2NXHfgx8UCU2/O2qVRjt31CfXRcqs6jQQmRxY6VFyFGV0K4I6lx4VAuMjfZZhecWHoH+rsrUFRNGf0+dQufMkQucwib6F4WHixjZ2QnluKzCaN/kAe6Z7J63hnIS3FAciSn+0vMeuzQ4RY6YPJn4kLteU+xlSA4IVW6CnAZ1Y66RmB7TvNAADKy1c31+v034kWMOh8/D/uNgcN8xRP6ZB/n/tq840v5uiFxDgHyBHNXLP2ocI9/dALf/3VXLwMpl2gly5dLny7QvwI8/pysRaQplMrsAAAAASUVORK5CYII="}))),r.a.createElement("div",{className:f.a.src+" "+f.a.line_ellipsis+" "+f.a.op},a.src+"/"+a.episodeDur+"/\u5206\u949f"),r.a.createElement("div",{className:f.a.pubDesc+" "+f.a.line_ellipsis+" "+f.a.op},a.pubDesc))),r.a.createElement("div",{className:f.a.arrow_g},r.a.createElement("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAWCAYAAAAfD8YZAAAAAXNSR0IArs4c6QAAAS5JREFUOBGVkktuwkAMhpOoJ+hhSouE2HbDgiVCNCAOVtQHnINHhbgMJ6g6/f9gR848kmDJeOzxZ3scskzEOfcKXUMLjXXZByYQhJlqMvz3PM//1E9Z7fJoEp5wXvWZoILRZQtg7xVYdhXQzuR2XoEB/NYCOSkVdKI/g441BnuBbmI7aMAE7ilgxyaboYOD4RMO9EWiTwhgJksBLtEvUNolRmGvwJG+yDNsXSB4s2aplR3M4Y80BnuGfiQ7m0Q2qP6JJvaLc/VpTKx5lPe9IfpibviMb+4lOXYXyGLRsRPgSTsSpASdW8Av+YQ3Er+NzgIuELdvZMcAZIUaBsgpCA55IZIEeV+NLSC32hskXCTAH9xFRyWkUsgSrhqAJfjpL8fch0dMMIGWMkmYEIn8Az5Wgp5LHlhmAAAAAElFTkSuQmCC"})))),r.a.createElement("div",{id:"date"},r.a.createElement("div",{className:f.a.date},r.a.createElement("ul",{className:f.a.scroll},r.a.createElement("li",{className:f.a.selectData},"\u4eca\u59298\u67081\u53f7"),r.a.createElement("li",null,"\u660e\u59298\u67082\u53f7"),r.a.createElement("li",null,"\u540e\u59298\u67083\u53f7"),r.a.createElement("li",null,"\u660e\u59298\u67082\u53f7"),r.a.createElement("li",null,"\u540e\u59298\u67083\u53f7"),r.a.createElement("li",null,"\u660e\u59298\u67082\u53f7"),r.a.createElement("li",null,"\u540e\u59298\u67083\u53f7")))),r.a.createElement(p.a,{cinemas:this.state.cinemas,navCinemaInfo:this.navCinemInfo}),r.a.createElement("div",{className:this.state.message?f.a.message:f.a.none},this.state.message))}}]),a}(l.Component);a.default=Object(m.b)(function(e){return{pos:e.home.posi}})(A)},59:function(e,a,t){"use strict";var n=t(61),i=t.n(n),c=i.a.create({timeout:1e3});c.__proto__=i.a,c.interceptors.request.use(function(e){return e},function(e){return Promise.reject(e)}),c.interceptors.response.use(function(e){return e.data},function(e){return Promise.reject(e)});var o=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"get",t=arguments.length>2?arguments[2]:void 0,n=a.toUpperCase(),i={url:e,method:n,params:"GET"===n||"DELETE"===n?t:null,data:"PSOT"===n||"PUT"===n?t:null};return new Promise(function(e,a){c(i).then(function(a){e(a)}).catch(function(e){a(e)})})};t.d(a,"d",function(){return s}),t.d(a,"f",function(){return l}),t.d(a,"e",function(){return r}),t.d(a,"a",function(){return m}),t.d(a,"i",function(){return u}),t.d(a,"g",function(){return d}),t.d(a,"c",function(){return f}),t.d(a,"b",function(){return p}),t.d(a,"h",function(){return v});var s=function(){return o("/api/cityList")},l=function(){return o("/api/getLocation")},r=function(e){return o("/api/movieOnInfoList","GET",{cityId:e})},m=function(e){return o("/api/cinemaList?cityId=".concat(e))},u=function(e,a){return o("/api/searchList?kw=".concat(a,"&cityId=").concat(e))},d=function(e){return o("/api/detailmovie?movieId=".concat(e))},f=function(e){return function(e){return new Promise(function(a,t){c.all(e).then(c.spread(function(e,t){a([e,t])}))})}(e)},p=function(e){return o("/api/cinemaList?cityId=".concat(e))},v=function(e,a){return o("/ajax/cinemaDetail?cinemaId=".concat(e,"&movieId=").concat(a))}},62:function(e,a,t){"use strict";var n=t(14),i=t(15),c=t(24),o=t(23),s=t(25),l=t(0),r=t.n(l),m=t(63),u=t.n(m),d=function(e){function a(e){var t;return Object(n.a)(this,a),(t=Object(c.a)(this,Object(o.a)(a).call(this,e))).thisnavTo=function(e){var a=e.target.dataset.id;t.props.navCinemaInfo(a)},t.state={},t}return Object(s.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:u.a.movie_info},r.a.createElement("ul",{onClick:function(a){e.thisnavTo(a)}},this.props.cinemas.map(function(e){return r.a.createElement("li",{key:e.id,"data-id":e.id},r.a.createElement("div",{className:u.a.movie_title,"data-id":e.id},r.a.createElement("p",{className:u.a.nnm+" pointer"},e.nm),r.a.createElement("div",{className:u.a.price},e.sellPrice),r.a.createElement("span",null,"\u5143\u8d77")),r.a.createElement("div",{className:u.a.movie_address,"data-id":e.id},r.a.createElement("p",{className:"pointer"},e.addr),r.a.createElement("span",null,e.distance)),r.a.createElement("div",{className:u.a.afterSale,"data-id":e.id},r.a.createElement("div",{className:e.tag&&e.tag.allowRefund?u.a.allowRefund:u.a.none},"\u9000"),r.a.createElement("div",{className:u.a.allowRefund},"\u6539\u7b7e"),e.tag&&e.tag.hallTypeVOList&&e.tag.hallTypeVOList.map(function(e){return r.a.createElement("div",{className:u.a.allowRefund,key:e.name},e.name)}),r.a.createElement("div",{className:u.a.vipTag},"\u6298\u6263\u5361"),r.a.createElement("div",{className:e.tag&&e.tag.snack?u.a.allowRefund:u.a.none},"\u5c0f\u5403")),r.a.createElement("div",{className:e.promotion&&e.promotion.cardPromotionTag?u.a.discounts:u.a.none},r.a.createElement("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAeCAYAAABNChwpAAAAAXNSR0IArs4c6QAAAgFJREFUSA3Nlz1LA0EQhmf3kouFEQwi+FEYQ+xEsImFoCDoL/CLaKd/QbC0sbCzFVuxsRS1jEVAsUqrIILRQAhaBGKMuawzwpGAm83mNhddCHfZnd3n3Z2ZuxsG2JI3YtQpVw6AiTkhYJj6/GqMwSsIdm312DsnMyzLCF79rGRAiIhfUOm6jL0FQvZU4Gfn0GU4KcINE5vjsc9LFXajE9kcfT7UDZaMQWwuG9Dpi/YyiIWZjqnSxrOAtWgANsYDysV1Bj0L0Flcx8ZoC1F0wf50UMo5fqjCY1FIxxo7jQSUHWgK+ag2YprfGwnIlQTQTk3a/46B2UEOIUu+v0gIIMgZLLTIZHJTOl+TL4K9ShckMc36Q+pc356QB6FLLJQFCqi4f39d2WoKLTy03ckg2OjAvcyXh9n1KX8eA0YC4n0MtuLoJru+o3bvjAS8o2vpfXCYsGEzZkFYHQ5SbcoglM5o6KQAoxhIDHBYiVqYERZcZB04f3aghNGv04wEuIDbQg3u8Lc4YsHymAVLeD17cuDypbWKjgggIZTpVwhM5x1YxzdlpaaXXB0T4J5GEbPy6F7/8WwUhC7U5OpZgIPfU5qnrNTn+UmoXLWNQc8n0AZDacqxUskpLXwcJDbHMinlI0O9NLI51WiAZZLa0odRZBKbU4FINRoDdtoNdxCDWMQk9jePWpE8hVOLbwAAAABJRU5ErkJggg==",alt:""}),r.a.createElement("span",null,e.promotion&&e.promotion.cardPromotionTag)))})))}}]),a}(l.Component);a.a=d},63:function(e,a,t){e.exports={movie_info:"movie_info--2cQIh",movie_title:"movie_title--1p3ie",price2:"price2--2oon4",movie_address:"movie_address--3ATrj",afterSale:"afterSale--2_DEf",allowRefund:"allowRefund--227jS",vipTag:"vipTag--3x3uN",discounts:"discounts--323HL",none:"none--138e8",nnm:"nnm--YJPbJ"}},97:function(e,a,t){e.exports={body:"body--Bc5-b",nav_wrap_left:"nav_wrap_left--3U76G",movie_detail:"movie_detail--TXV8c",movie_filter:"movie_filter--w1Bvl",poster_bg:"poster_bg--2Oc9G",detail:"detail--D8KsT",content:"content--1Uic8",line_ellipsis:"line_ellipsis--2GKy4",middle:"middle--32Ggw",title_en_name:"title_en_name--3fJpB",score:"score--2_zud",snum:"snum--3i1Kv",type:"type--1a0Xg",op:"op--3ixEW",arrow_g:"arrow_g--sdzfO",poster:"poster--1jrk6",date:"date--1b6Cv",scroll:"scroll--20Lkt",selectData:"selectData--rJ4SJ",filterMoview:"filterMoview--MCFCX",movie_info:"movie_info--3rLaA",movie_title:"movie_title--2UJ-P",price2:"price2--3URlG",movie_address:"movie_address--1_bhM",afterSale:"afterSale--1FXYH",allowRefund:"allowRefund--1hKK5",vipTag:"vipTag--2abA3",discounts:"discounts--2MEom",none:"none--cGF6a",message:"message--oGy5c",navbar:"navbar--25oyn",nav_right:"nav_right--1NQGR"}}}]);
//# sourceMappingURL=6.77be2775.chunk.js.map